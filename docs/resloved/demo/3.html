<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Lazy Load Images Example</title>
    <style>
      /* 占位符图片样式 */
      .lazy {
        width: 100%;
        height: 100%;
        background-color: #f5f5f5;
      }
    </style>
  </head>
  <body>
    <!-- 图片列表 -->
    <div id="image-list">
      <img class="lazy" src="placeholder.jpg" data-src="image1.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image2.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image3.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image4.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image5.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image6.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image7.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image8.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image9.jpg">
      <img class="lazy" src="placeholder.jpg" data-src="image10.jpg">
    </div>

    <script>
        function lazyLoad() {
            // 获取所有需要懒加载的图片
            const images = document.querySelectorAll('.lazy');
            // 遍历每张图片
            for (let i = 0; i < images.length; i++) {
                // 获取当前图片的位置和大小信息
                const rect = images[i].getBoundingClientRect();
                // 如果图片进入了可视区域
                if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
                    // 加载图片
                    images[i].src = images[i].dataset.src;
                    // 移除 "lazy" 类名，表示该图片已经被加载过了
                    images[i].classList.remove('lazy');
                }
            }
        }

        // 页面加载完成后执行一遍懒加载
        window.addEventListener('load', lazyLoad);

        // 滚动时检测图片是否进入可视区域
        window.addEventListener('scroll', lazyLoad);

    </script>
  </body>
</html>
