# 不同线程之间怎么做同步
- 信号量
  - 控制对共享资源的访问，可以协调
- 屏障
  - 可以保证所有线程到一个点上，不然会阻塞线程
# 什么时候会启用多线程去执行任务，什么时候启用单线程执行任务？
- 比较简单短暂的任务，单线程，因为启动也要花时间
- 密集的任务，就比如一些密集的I/O操作(网络请求)，用多线程利用好多核处理器

# 程序、进程、CPU、内存关系
- 打包程序和应用放在**磁盘**上，是静态的
- 执行程序，操作系统将会将它加载进**内存**
- **CPU**从内存某个起始地址读取指令并执行程序

## 进程和线程
- 在规定的时间片内进程能完成多少是多少，时间一到立即退出CPU换另一个进程上，没能完成任务的进程等下个轮到自己的时间片再上
- 以进程为单位提交任务颗粒度太大了，需要再细化。我建议将进程划分为若干线程，这些线程共享进程的资源池，进程想要执行某任务直接交给线程即可，而CPU每次以线程为单位执行
- 处理UI一个线程，处理I/O是另一个线程，处理其它任务是其它线程，我只需要分派各个任务给线程
- 线程是 CPU 调度的基本单位
- 解决无限回调
- 协程
  - 将异步编程同步化
  - 协程是语言层面的东西，线程是系统层面的东西，两者没有可比性。
  - 协程就是一段代码块，既然是代码那就离不开CPU的执行，而CPU调度的基本单位是线程。
  - 协程内部也是通过回调实现的，只是在编译阶段封装了回调的细节而已。







